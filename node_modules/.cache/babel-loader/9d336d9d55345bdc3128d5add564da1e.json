{"ast":null,"code":"// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\nconsole.log('hello');\nimport Rails from \"@rails/ujs\";\nimport Turbolinks from \"turbolinks\";\nimport * as ActiveStorage from \"@rails/activestorage\";\nimport \"channels\";\nimport 'bootstrap';\nimport 'dotenv/config';\nRails.start();\nTurbolinks.start();\nActiveStorage.start();\nvar submitButton = document.querySelector('#submit');\nsubmitButton.addEventListener('click', function (event) {\n  event.preventDefault();\n  var coordinates = document.querySelector('#text').value;\n  var url = \"https://api.mapbox.com/geocoding/v5/mapbox.places/museum.json?types=poi&proximity=\".concat(coordinates, \"&limit=5&access_token=\").concat(process.env.MAPBOX_API_KEY);\n  fetch(url).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    console.log(data);\n    data.features.forEach(function (feature) {\n      var postalCode = feature.context[0].id;\n      var museum = feature.place_name;\n      console.log(museum);\n      console.log(postalCode.substr(9, postalCode.length));\n    });\n  });\n});","map":{"version":3,"sources":["/Users/cfujisaki/code/CamillieFu/find-a-museum/app/javascript/packs/application.js"],"names":["console","log","Rails","Turbolinks","ActiveStorage","start","submitButton","document","querySelector","addEventListener","event","preventDefault","coordinates","value","url","process","env","MAPBOX_API_KEY","fetch","then","response","json","data","features","forEach","feature","postalCode","context","id","museum","place_name","substr","length"],"mappings":"AAAA;AACA;AACA;AACA;AACAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAKC,aAAZ,MAA+B,sBAA/B;AAEA,OAAO,UAAP;AACA,OAAO,WAAP;AACA,OAAO,eAAP;AAEAF,KAAK,CAACG,KAAN;AACAF,UAAU,CAACE,KAAX;AACAD,aAAa,CAACC,KAAd;AAEA,IAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAArB;AACAF,YAAY,CAACG,gBAAb,CAA8B,OAA9B,EAAuC,UAACC,KAAD,EAAW;AAChDA,EAAAA,KAAK,CAACC,cAAN;AACA,MAAMC,WAAW,GAAGL,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCK,KAApD;AACA,MAAMC,GAAG,+FAAwFF,WAAxF,mCAA4HG,OAAO,CAACC,GAAR,CAAYC,cAAxI,CAAT;AACAC,EAAAA,KAAK,CAACJ,GAAD,CAAL,CACGK,IADH,CACQ,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADhB,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACdtB,IAAAA,OAAO,CAACC,GAAR,CAAYqB,IAAZ;AACAA,IAAAA,IAAI,CAACC,QAAL,CAAcC,OAAd,CAAsB,UAACC,OAAD,EAAa;AACjC,UAAMC,UAAU,GAAGD,OAAO,CAACE,OAAR,CAAgB,CAAhB,EAAmBC,EAAtC;AACA,UAAMC,MAAM,GAAGJ,OAAO,CAACK,UAAvB;AACA9B,MAAAA,OAAO,CAACC,GAAR,CAAY4B,MAAZ;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAYyB,UAAU,CAACK,MAAX,CAAkB,CAAlB,EAAqBL,UAAU,CAACM,MAAhC,CAAZ;AACD,KALD;AAMD,GAVH;AAWD,CAfD","sourcesContent":["// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\nconsole.log('hello')\n\nimport Rails from \"@rails/ujs\";\nimport Turbolinks from \"turbolinks\";\nimport * as ActiveStorage from \"@rails/activestorage\";\n\nimport \"channels\";\nimport 'bootstrap';\nimport 'dotenv/config';\n\nRails.start()\nTurbolinks.start()\nActiveStorage.start()\n\nconst submitButton = document.querySelector('#submit');\nsubmitButton.addEventListener('click', (event) => {\n  event.preventDefault();\n  const coordinates = document.querySelector('#text').value;\n  const url = `https://api.mapbox.com/geocoding/v5/mapbox.places/museum.json?types=poi&proximity=${coordinates}&limit=5&access_token=${process.env.MAPBOX_API_KEY}`;\n  fetch(url)\n    .then(response => response.json())\n    .then((data) => {\n      console.log(data);\n      data.features.forEach((feature) => {\n        const postalCode = feature.context[0].id\n        const museum = feature.place_name\n        console.log(museum)\n        console.log(postalCode.substr(9, postalCode.length))\n      });\n    });\n});\n"]},"metadata":{},"sourceType":"module"}